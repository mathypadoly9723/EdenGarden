<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Admin - EdenGarden</title>
  <style>
  :root {
    --orange: #ff6600;
    --black: #111;
    --white: #fff;
    --gray: #1e1e1e;
  }

  body {
    margin: 0;
    font-family: 'Segoe UI', sans-serif;
    background-color: var(--black);
    color: var(--white);
  }

  header {
    background-color: var(--black);
    padding: 20px 20px 20px 100px;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-wrap: wrap;
    box-shadow: 0 4px 10px rgba(255, 102, 0, 0.3);
    z-index: 2;
  }

  .logo-container {
    position: absolute;
    top: 10px;
    left: 20px;
    width: 120px;
    height: 60px;
    z-index: 10;
  }

  .logo-container img {
    width: 150%;
    height: 150%;
    object-fit: contain;
  }

  header h1 {
    margin: 0;
    color: var(--orange);
    flex: 1 1 100%;
    text-align: center;
    font-size: 2.5em;
    user-select: none;
  }

  nav {
    margin-top: 10px;
    flex: 1 1 100%;
    text-align: center;
  }

  nav a {
    margin: 0 15px;
    text-decoration: none;
    color: var(--white);
    font-weight: bold;
    position: relative;
    transition: color 0.3s;
  }

  nav a::after {
    content: "";
    position: absolute;
    left: 0;
    bottom: -3px;
    width: 100%;
    height: 2px;
    background: var(--orange);
    transform: scaleX(0);
    transform-origin: right;
    transition: transform 0.3s;
  }

  nav a:hover {
    color: var(--orange);
  }

  nav a:hover::after {
    transform: scaleX(1);
    transform-origin: left;
  }

  h2 {
    text-align: center;
    margin-top: 30px;
    font-size: 2em;
    color: var(--orange);
    animation: fadeIn 1s ease-in-out;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  form {
    max-width: 600px;
    margin: 30px auto;
    background: var(--gray);
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 4px 10px rgba(255, 102, 0, 0.2);
    animation: fadeIn 1s ease-in-out;
  }

  input, textarea {
    display: block;
    width: 100%;
    padding: 10px;
    margin-top: 10px;
    background: #2c2c2c;
    border: 1px solid #444;
    color: var(--white);
    border-radius: 4px;
    transition: border 0.3s;
  }

  input:focus, textarea:focus {
    outline: none;
    border-color: var(--orange);
  }

  button {
    background: var(--orange);
    color: var(--black);
    padding: 10px 15px;
    border: none;
    border-radius: 4px;
    margin-top: 15px;
    cursor: pointer;
    font-weight: bold;
    transition: background 0.3s, transform 0.2s;
  }

  button:hover {
    background: #e65300;
    transform: scale(1.05);
  }

  .item-list {
    max-width: 1000px;
    margin: 40px auto;
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 25px;
    padding: 20px;
    animation: fadeIn 1s ease-in-out;
  }

  .item-card {
    background-color: var(--gray);
    border: 2px solid var(--orange);
    border-radius: 10px;
    padding: 15px;
    text-align: center;
    transition: transform 0.3s, box-shadow 0.3s;
  }

  .item-card:hover {
    transform: scale(1.03);
    box-shadow: 0 0 15px var(--orange);
  }

  .item-card img {
    width: 100%;
    height: 200px;
    object-fit: cover;
    border-radius: 8px;
  }

  .item-card h3 {
    margin: 10px 0 5px;
    color: var(--white);
  }

  .item-card p {
    font-size: 0.9em;
    color: #ccc;
  }

  .delete-btn {
    background-color: #e74c3c;
    color: white;
    border: none;
    padding: 8px 12px;
    margin-top: 10px;
    border-radius: 4px;
    cursor: pointer;
    transition: background 0.3s;
  }

  .delete-btn:hover {
    background-color: #c0392b;
  }

  .section-title {
    background-color: var(--orange);
    color: var(--black);
    padding: 15px;
    margin-top: 50px;
    text-align: center;
    font-size: 1.5em;
    border-radius: 8px;
    box-shadow: 0 3px 8px rgba(255, 102, 0, 0.3);
  }

  .voir-plus {
    display: block;
    margin: 40px auto 60px;
    padding: 12px 30px;
    background-color: var(--orange);
    color: var(--black);
    text-decoration: none;
    border-radius: 30px;
    font-weight: bold;
    transition: all 0.3s;
    box-shadow: 0 4px 10px rgba(255, 102, 0, 0.3);
  }

  .voir-plus:hover {
    background-color: #e65300;
    transform: scale(1.05);
  }

  footer {
    background-color: #1c1c1c;
    text-align: center;
    padding: 20px;
    font-size: 0.85em;
    color: #aaa;
    border-top: 1px solid #333;
    margin-top: 50px;
  }
</style>

</head>
<body>

  <header>
    <div class="logo-container">
      <img src="https://i.postimg.cc/B6mNkXsY/logo-enoch-Garden-jpg.png" alt="Logo" />
    </div>
    <h1>Administration - EdenGarden</h1>
    <nav>
      <a href="index.html">Retour à la boutique</a>
    </nav>
  </header>

  <div class="section-title">Ajouter une plante</div>
  <form id="addPlanteForm">
    <label>Nom :</label>
    <input type="text" id="planteNom" required>

    <label>Image :</label>
    <input type="file" id="planteImage" accept="image/*" required>

    <label>Description :</label>
    <textarea id="planteDesc" maxlength="180" required></textarea>

    <label>Prix (€) :</label>
    <input type="number" id="plantePrix" min="0" step="0.01" required>

    <label>Catégorie :</label>
    <input type="text" id="planteCategorie" required>

    <button type="submit">Ajouter plante</button>
  </form>

  <section class="item-list" id="planteList"></section>

  <div class="section-title">Ajouter un accessoire</div>
  <form id="addAccessoireForm">
    <label>Nom :</label>
    <input type="text" id="accessoireNom" required>

    <label>Image :</label>
    <input type="file" id="accessoireImage" accept="image/*" required>

    <label>Description :</label>
    <textarea id="accessoireDesc" maxlength="180" required></textarea>

    <label>Prix (€) :</label>
    <input type="number" id="accessoirePrix" min="0" step="0.01" required>

    <label>Catégorie :</label>
    <input type="text" id="accessoireCategorie" required>

    <button type="submit">Ajouter accessoire</button>
  </form>

  <section class="item-list" id="accessoireList"></section>

  <div class="section-title">Plantes en accueil (4 max)</div>
<section class="item-list" id="accueilList"></section>

<form id="editAccueilForm">
  <h3 style="text-align:center; margin-bottom: 10px;">Modifier une plante d’accueil</h3>
  <label>Choisir une plante (0 à 3) :</label>
  <select id="accueilIndex" required>
    <option value="0">Plante 1</option>
    <option value="1">Plante 2</option>
    <option value="2">Plante 3</option>
    <option value="3">Plante 4</option>
  </select>

  <label>Nom :</label>
  <input type="text" id="accueilNom" required>

  <label>Image :</label>
  <input type="file" id="accueilImage" accept="image/*">

  <label>Description (courte) :</label>
  <textarea id="accueilDesc" maxlength="100" required></textarea>

  <label>Prix (€) :</label>
  <input type="number" id="accueilPrix" min="0" step="0.01" required>

  <button type="submit">Mettre à jour</button>
</form>

  <script>
    let plantes = JSON.parse(localStorage.getItem('plantes') || '[]');
    let accessoires = JSON.parse(localStorage.getItem('accessoires') || '[]');

    function afficherItems(liste, containerId, storageKey) {
      const container = document.getElementById(containerId);
      container.innerHTML = '';
      liste.forEach((item, index) => {
        const card = document.createElement('div');
        card.className = 'item-card';
        card.innerHTML = `
          <img src="${item.image}" alt="${item.nom}">
          <h3>${item.nom}</h3>
          <p>${item.description}</p>
          <p><strong>Prix :</strong> ${item.prix} €</p>
          <p><strong>Catégorie :</strong> ${item.categorie}</p>
          <button class="delete-btn" onclick="supprimerItem(${index}, '${storageKey}', '${containerId}')">Supprimer</button>
        `;
        container.appendChild(card);
      });
    }

    function supprimerItem(index, storageKey, containerId) {
      const liste = JSON.parse(localStorage.getItem(storageKey) || '[]');
      liste.splice(index, 1);
      localStorage.setItem(storageKey, JSON.stringify(liste));
      afficherItems(liste, containerId, storageKey);
    }

    function ajouterItem(formId, storageKey, containerId) {
      const nom = document.getElementById(`${formId}Nom`).value.trim();
      const description = document.getElementById(`${formId}Desc`).value.trim();
      const prix = parseFloat(document.getElementById(`${formId}Prix`).value.trim());
      const categorie = document.getElementById(`${formId}Categorie`).value.trim();
      const file = document.getElementById(`${formId}Image`).files[0];

      if (nom && description && !isNaN(prix) && categorie && file) {
        const reader = new FileReader();
        reader.onload = function(event) {
          const imageBase64 = event.target.result;
          const liste = JSON.parse(localStorage.getItem(storageKey) || '[]');
          liste.push({ nom, image: imageBase64, description, prix, categorie });
          localStorage.setItem(storageKey, JSON.stringify(liste));
          afficherItems(liste, containerId, storageKey);
          document.getElementById(`add${formId.charAt(0).toUpperCase() + formId.slice(1)}Form`).reset();
        };
        reader.readAsDataURL(file);
      }
    }

    document.getElementById('addPlanteForm').addEventListener('submit', function(e) {
      e.preventDefault();
      ajouterItem('plante', 'plantes', 'planteList');
    });

    document.getElementById('addAccessoireForm').addEventListener('submit', function(e) {
      e.preventDefault();
      ajouterItem('accessoire', 'accessoires', 'accessoireList');
    });

    afficherItems(plantes, 'planteList', 'plantes');
    afficherItems(accessoires, 'accessoireList', 'accessoires');
let accueilPlantes = JSON.parse(localStorage.getItem('accueilPlantes') || '[]');
if (accueilPlantes.length < 4) {
  while (accueilPlantes.length < 4) {
    accueilPlantes.push({ nom: "Plante", image: "", description: "Description", prix: 0 });
  }
  localStorage.setItem('accueilPlantes', JSON.stringify(accueilPlantes));
}

function afficherAccueil() {
  const list = document.getElementById('accueilList');
  list.innerHTML = '';
  accueilPlantes.forEach((p, i) => {
    const card = document.createElement('div');
    card.className = 'item-card';
    card.innerHTML = `
      <img src="${p.image || 'https://via.placeholder.com/250x200'}" alt="${p.nom}">
      <h3>${p.nom}</h3>
      <p>${p.description}</p>
      <p><strong>Prix :</strong> ${p.prix} €</p>
      <p><em>Position ${i + 1}</em></p>
    `;
    list.appendChild(card);
  });
}

document.getElementById('editAccueilForm').addEventListener('submit', function(e) {
  e.preventDefault();
  const index = parseInt(document.getElementById('accueilIndex').value);
  const nom = document.getElementById('accueilNom').value.trim();
  const description = document.getElementById('accueilDesc').value.trim();
  const prix = parseFloat(document.getElementById('accueilPrix').value);
  const file = document.getElementById('accueilImage').files[0];

  if (!isNaN(index) && nom && description && !isNaN(prix)) {
    const updatePlante = (imageBase64 = accueilPlantes[index].image) => {
      accueilPlantes[index] = { nom, image: imageBase64, description, prix };
      localStorage.setItem('accueilPlantes', JSON.stringify(accueilPlantes));
      afficherAccueil();
      document.getElementById('editAccueilForm').reset();
    };

    if (file) {
      const reader = new FileReader();
      reader.onload = e => updatePlante(e.target.result);
      reader.readAsDataURL(file);
    } else {
      updatePlante(); // Keep previous image
    }
  }
});

afficherAccueil();
  </script>

</body>
</html>
